(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{405:function(t,e,s){},406:function(t,e,s){},457:function(t,e,s){"use strict";var i=s(405);s.n(i).a},458:function(t,e,s){"use strict";var i=s(406);s.n(i).a},476:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"questions_current__list-wrap"},[t.showQuestion?s("div",{staticClass:"questions_current__list"},[s("div",{staticClass:"questions__belongs"},[s("div",{staticClass:"questions__belongs_wrap"},[s("div",{staticClass:"questions__belongs__item"},[s("label",[t._v("\u0413\u0440\u0443\u043f\u043f\u0430:")]),s("div",{staticClass:"aa"},[t._v(t._s(t.currentGroupName))])]),s("div",{staticClass:"questions__belongs__item"},[s("label",[t._v("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:")]),s("div",{staticClass:"aa"},[t._v(t._s(t.currentTestName))])]),s("div",{staticClass:"questions__belongs__item"},[s("label",[t._v("\u0423\u0440\u043e\u0432\u0435\u043d\u044c:")]),s("div",{staticClass:"aa"},[t._v(t._s(t.item.level_id))])])]),s("div",{staticClass:"questions__belongs_close-wrap"},[s("div",{staticClass:"questions__belongs_close",on:{click:function(e){t.showQuestion=!1}}},[t._v("X")])])]),s("div",{staticClass:"questions_current__item question_current"},[s("QUESTION_ITEM",{attrs:{qText:t.qText,_id:t.item._id,item:t.item.question,test_id:t.item.test_id,level_id:t.item.level_id}}),"handwritingAnswer"!==t.item.type?s("div",{staticClass:"answer__content"},[s("div",{staticClass:"answers__title"},[t._v("\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043e\u0442\u0432\u0435\u0442\u043e\u0432")]),s("div",{staticClass:"answers__data"},[s("div",{staticClass:"answers__data_img"},[s("div",{staticClass:"current_level__files",style:{"background-image":"url("+t.currentAnswerImgUrl+")"}},[s("div",{staticClass:"current_level__file-upload"},[s("label",{staticClass:"current_level__load-text",attrs:{for:"photoFile"}},[s("p",[t._v("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0432\u043e\u043f\u0440\u043e\u0441\u0430")]),""==t.currentAnswerImgUrl?s("div",{staticClass:"dropzone",attrs:{id:"drop1"}},[s("input",{staticClass:"current_level__file-input",attrs:{type:"file",id:"photoFile",accept:"image/*"},on:{change:t.loadAnwerPhoto}}),s("div",{staticClass:"current_level__file-btn btn"},[t._v("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c")])]):s("div",{staticClass:"dropzone"},[s("input",{staticClass:"current_level__file-input",attrs:{type:"file",id:"photoFile",accept:"image/*"},on:{change:t.changeAnswerPhoto}}),s("div",{staticClass:"current_level__file-btn btn"},[t._v("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")])])])])])]),s("div",{staticClass:"answers__data_content"},[s("ul",{staticClass:"answers__list"},t._l(t.item.answers,function(e){return s("li",{staticClass:"answers__item answer"},[s("ANSWER_ITEM",{attrs:{typeOfQuestion:t.item.type,answerLength:t.item.answers.length,question_id:t.item.question.question_id,answer:e,test_id:t.item.test_id,level_id:t.item.level_id,answerImgUrl:t.currentAnswerImgUrl,_id:t.item._id},on:{setAnswerImgURL:t.setCurrentAnswerIMG,emitResetAnswerImgUrl:t.resetAnswerImgUrl}})],1)}),0),s("ADD_NEW_ANSWER",{attrs:{answerLength:t.item.answers.length,question_id:t.item.question.question_id,test_id:t.item.test_id,level_id:t.item.level_id,currentAnswerImgUrl:t.currentAnswerImgUrl,answerImgUrl:t.currentAnswerImgUrl,_id:t.item._id},on:{emitResetAnswerImgUrl:t.resetAnswerImgUrl}})],1)])]):s("div",[s("KEYWORDS_ANSWER",{attrs:{keywords:t.item.keywordsArray,typeOfQuestion:t.item.type,_id:t.item._id}})],1)],1)]):t._e(),s("div",{staticClass:"wrapper questions"},[s("ul",{staticClass:"questions__list"},t._l(t.uniqueQuestions,function(e){return s("li",{staticClass:"questions__item question"},[t._m(0,!0),t._m(1,!0),s("div",{staticClass:"question__text-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.question.text,expression:"question.question.text"}],staticClass:"question__text",attrs:{type:"text"},domProps:{value:e.question.text},on:{input:function(s){s.target.composing||t.$set(e.question,"text",s.target.value)}}})]),s("button",{staticClass:"question__show btn",on:{click:function(s){return t.showCurrentQuestion(e)}}},[t._v("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e")]),t._m(2,!0),s("QUESTION_SELECT",{attrs:{question:e}})],1)}),0)])])])};i._withStripped=!0;var n=s(30),r=s(418),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"select"},[s("div",{staticClass:"select_wrapper"},[t._m(0),s("div",{staticClass:"select-wrap"},[s("select",{staticClass:"select_select",on:{change:t.setGroup}},[s("option",{attrs:{value:""}},[t._v("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443")]),t._l(t.groups,function(e,i){return t.groups?s("option",{ref:"selectedGroup",refInFor:!0,staticClass:"select_option",domProps:{value:e.groupName}},[t._v(t._s(e.groupName))]):t._e()})],2)])]),s("div",{staticClass:"select_wrapper"},[t._m(1),t.filteredTests.length?s("div",{staticClass:"select-wrap"},[s("select",{staticClass:"select_select",on:{change:t.setTest}},[s("option",{attrs:{value:""}},[t._v("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0441\u0442")]),t._l(t.filteredTests,function(e){return s("option",{ref:"selectedTest",refInFor:!0,staticClass:"test__students-group",attrs:{"data-levels":e.level},domProps:{value:e.id}},[t._v("  "+t._s(e.name))])})],2)]):s("div",{staticClass:"select-wrap"},[t._m(2)])]),s("div",{staticClass:"select_wrapper"},[t._m(3),s("div",{staticClass:"select-wrap select-wrap--level"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.level,expression:"level"}],staticClass:"select_select",attrs:{name:"level",required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.level=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0440\u043e\u0432\u0435\u043d\u044c")]),t._l(t.levels,function(e){return s("option",{staticClass:"select_option",domProps:{value:e}},[t._v(t._s(e))])})],2)])]),s("button",{staticClass:"btn",on:{click:function(e){return t.addQuestionTo(t.question)}}},[t._v("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c")])])};function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},i=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),i.forEach(function(e){a(t,e,s[e])})}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}o._withStripped=!0;var u={props:{question:Object},data:function(){return{level:"",filteredTests:[],selectedGroupName:"",test_id:"",filteredQuestions:"",levels:""}},methods:l({},Object(n.b)("tooltips",["showTooltip","hideTooltip"]),{fn:function(){console.log("asfew")},filterQ:function(){var t,e=[],s=this.questions;console.log(s.length);for(var i=0;i<s.length;i++){t=!0;for(var n=i+1;n<s.length;n++)s[i].question.text===s[n].question.text&&s[i].type===s[n].type&&(t=!1);t&&e.push(s[i])}this.filteredQuestions=e}},Object(n.b)("questions",["addNew"]),{setTest:function(t){var e=this;this.test_id=t.target.value;var s=this.filteredTests.filter(function(t){return t.id===+e.test_id});this.levels=+s[0].level,console.log(this.levels)},filterTestByGroup:function(t){this.filteredTests=this.tests.filter(function(e){return e.group===t})},setGroup:function(t){this.selectedGroupName=t.target.value,this.filterTestByGroup(this.selectedGroupName)},addQuestionTo:function(t){this.filterQuestion(this.questions,+this.level,+this.test_id);var e=l({},t,{question:{text:t.question.text,img:t.question.img,question_id:Date.now()},level_id:+this.level,test_id:+this.test_id});+this.level&&+this.test_id?(this.addNew(e),this.showTooltip({type:"success",text:"\u0412\u043e\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"})):this.showTooltip({type:"error",text:"\u0412\u042b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443 \u0438 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0442\u0435\u0441\u0442\u0430"}),console.log(e)},filterQuestion:function(t,e,s){return t.filter(function(t){if(console.log(t),t.level_id===e&&t.test_id===s)return t})}}),computed:l({},Object(n.d)("questions",{questions:function(t){return t.questions}}),Object(n.d)("tests",{tests:function(t){return t.tests}}),Object(n.d)("groups",{groups:function(t){return t.groups}}),Object(n.c)("questions",["uniqueQuestions"]))},c=(s(457),s(52)),_=Object(c.a)(u,o,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"select__label-wrap"},[e("label",{staticClass:"select__label"},[this._v("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"select__label-wrap"},[e("label",{staticClass:"select__label"},[this._v("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0441\u0442")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("select",{staticClass:"select_select"},[e("option",{staticClass:"select_option",attrs:{value:""}},[this._v("\u0422\u0435\u0441\u0442\u044b \u0435\u0449\u0435 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u044b")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"select__label-wrap"},[e("label",{staticClass:"select__label"},[this._v("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0440\u043e\u0432\u0435\u043d\u044c")])])}],!1,null,"1e0d4b3e",null);_.options.__file="src/admin/components/questions_select.vue";var d=_.exports,v=s(372),f=s(419),p=s(420),h=s(425);function m(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},i=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),i.forEach(function(e){g(t,e,s[e])})}return t}function g(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var w={components:{QUESTION_SELECT:d,QUESTION_ITEM:r.a,ANSWER_ITEM:v.a,ADD_NEW_ANSWER:f.a,KEYWORDS_ANSWER:p.a,CURRENT_QUESTION:h.a},props:{},data:function(){return{level:"",filteredTests:[],selectedGroupName:"",test_id:"",filteredQuestions:"",currentQuestion:"",showQuestion:!1,currentGroupName:"",currentTestName:"",activeQuestion:0,qText:"",item:"",showQImg:!1,showAImg:!1,isTestOpen:!1,currentQuestionID:1,currentAnswerImgUrl:"",breadcrumbs:[]}},methods:m({},Object(n.b)("questions",["fetchQuestions"]),{showCurrentQuestion:function(t){console.log(t),this.showQuestion=!0;var e,s,i=t.test_id;console.log(i),this.tests.filter(function(t){t.id===i&&(e=t.group,s=t.name)}),console.log(e),this.currentGroupName=e,this.currentTestName=s,console.log(s),this.currentQuestion=t,this.item=t},filterQ:function(){var t,e=[],s=this.questions;console.log(s.length);for(var i=0;i<s.length;i++){t=!0;for(var n=i+1;n<s.length;n++)s[i].question.text===s[n].question.text&&s[i].type===s[n].type&&(t=!1);t&&e.push(s[i])}console.log(e),this.filteredQuestions=e}},Object(n.b)("questions",["addNew"]),{setTest:function(t){console.log(t.target.value),this.test_id=t.target.value},filterTestByGroup:function(t){this.filteredTests=this.tests.filter(function(e){return console.log(e),console.log(t),e.group===t}),console.log(this.filteredTests)},setGroup:function(t){console.log(t.target.value),this.selectedGroupName=t.target.value,this.filterTestByGroup(this.selectedGroupName)},addQuestionTo:function(t){console.log(this.test_id),console.log(t);var e=this.filterQuestion(this.questions,+this.level,+this.test_id);console.log(e),console.log(t.question);var s=m({},t,{question:{text:t.question.text,img:t.question.img,question_id:e.length+1},level_id:+this.level,test_id:+this.test_id});console.log(s),this.addNew(s)},filterQuestion:function(t,e,s){return t.filter(function(t){if(console.log(t),t.level_id===e&&t.test_id===s)return t})},setCurrentQuestion:function(){this.item=this.questions[this.activeQuestion]},changeCurrentQuestion:function(t,e,s){console.log(t.target);for(var i=0;i<this.breadcrumbs.length;i++)i==s?this.breadcrumbs[i].classList.add("breadcrumb--active"):this.breadcrumbs[i].classList.remove("breadcrumb--active");this.item=e,this.qText=e.question.text},loadAnwerPhoto:function(t){var e=this,s=t.target.files[0];console.log(s);var i=new FileReader;try{i.readAsDataURL(s),i.onload=function(){e.currentAnswerImgUrl=i.result}}catch(t){alert(t.message),console.log(t.message.errors.photo)}},changeAnswerPhoto:function(t){var e=this,s=t.target.files[0];console.log(s);var i=new FileReader;try{i.readAsDataURL(s),i.onload=function(){e.currentAnswerImgUrl=i.result}}catch(t){alert(t.message),console.log(t.message.errors.photo)}},resetAnswerImgUrl:function(){this.currentAnswerImgUrl=""},setCurrentAnswerIMG:function(t){this.currentAnswerImgUrl=t},closeSection:function(){this.changeShowQuestionsStatus(!1)}}),computed:m({},Object(n.d)("questions",{questions:function(t){return t.questions}}),Object(n.d)("tests",{tests:function(t){return t.tests}}),Object(n.d)("groups",{groups:function(t){return t.groups}}),Object(n.c)("questions",["uniqueQuestions"])),created:function(){this.fetchQuestions()}},b=(s(458),Object(c.a)(w,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"question__add_topic-wrap"},[e("h1",{staticClass:"question__add_topic"},[this._v("\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"question__label-wrap"},[e("label",{staticClass:"question__label"},[this._v("\u0422\u0435\u043a\u0441\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u0430")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"question__add"},[e("div",{staticClass:"question__add_topic-wrap"},[e("h1",{staticClass:"question__add_topic"},[this._v("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 ")])])])}],!1,null,"2906b3e2",null));b.options.__file="src/admin/components/pages/questions.vue";e.default=b.exports}}]);